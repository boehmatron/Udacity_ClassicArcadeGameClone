<!DOCTYPE html>
<html lang="en">
<head>
	<title>Image Data</title>
</head>

<body>

<img id="scream" src="img_the_scream.jpg" alt="The Scream" width="220" height="277">

<canvas id="c" width="220" height="277">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>


	var c=document.getElementById("c");
	var ctx=c.getContext("2d");
	var img=document.getElementById("scream");
	ctx.drawImage(img,0,0);


	var imgData = ctx.getImageData(0, 0, c.width, c.height);
	console.log(imgData);

	for (var x=0;x<imgData.width;x++)
		for (var y=0; y<imgData.height; y++){
			{
				var i = (y * 4) * imgData.width + x * 4;

				var avgColor = (imgData.data[i] + imgData.data[i+1] + imgData.data[i+2])/3;

				imgData.data[i] = avgColor;   
				imgData.data[i + 1] = avgColor;   
				imgData.data[i + 2] = avgColor;



			}
		}
		ctx.putImageData(imgData,0,0); 



</script>

</body>

</html>